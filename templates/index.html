<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>FitFood</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="header">
    <h1>FitFood</h1>
  </div>

  <div class="description">
    ì˜ì–‘ì„±ë¶„í‘œë¥¼ ì²¨ë¶€í•´ì„œ ì‹í’ˆì´ ì•ˆì „í•œì§€ í™•ì¸í•´ë³´ì„¸ìš”!
  </div>

  <form action="/submit" method="POST" enctype="multipart/form-data" class="main-form">
    <div class="form-group">
      <label>ì‚¬ì§„ ì—…ë¡œë“œ:</label>
      <label for="photo-gallery" class="custom-upload">ğŸ“ ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒ</label>
      <input type="file" id="photo-gallery" name="photo" accept="image/*">
    </div>
    <div class="form-group">
      <img id="preview" alt="ì—…ë¡œë“œí•œ ì‚¬ì§„ ë¯¸ë¦¬ë³´ê¸°">
    </div>
    
    <div class="form-group">
      <label for="age">ë‚˜ì´:</label>
      <input type="number" id="age" name="age" min="0" inputmode="numeric" required>
    </div>

    <div class="form-row">
      <div class="form-subgroup">
        <label for="gender" class="label-gender">ì„±ë³„:</label>
        <select id="gender" name="gender" required>
          <option value="">ì„ íƒ</option>
          <option value="male">ë‚¨ì„±</option>
          <option value="female">ì—¬ì„±</option>
          <option value="other">ê¸°íƒ€</option>
        </select>
      </div>
      <div class="form-subgroup">
        <label for="weight" class="label-weight">ëª¸ë¬´ê²Œ(kg):</label>
        <input type="number" id="weight" name="weight" inputmode="decimal" required>
      </div>
    </div>

    <div class="form-group">
      <label for="calories">í•˜ë£¨ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰(kcal):</label>
      <select id="calories" name="calories" required>
        <option value="">ì„ íƒ</option>
        <option value="1200">1000 kcal</option>
        <option value="1200">1100 kcal</option>
        <option value="1200">1200 kcal</option>
        <option value="1300">1300 kcal</option>
        <option value="1400">1400 kcal</option>
        <option value="1500">1500 kcal</option>
        <option value="1600">1600 kcal</option>
        <option value="1700">1700 kcal</option>
        <option value="1800">1800 kcal</option>
        <option value="1900">1900 kcal</option>
        <option value="2000">2000 kcal</option>
        <option value="2100">2100 kcal</option>
        <option value="2200">2200 kcal</option>
        <option value="2300">2300 kcal</option>
        <option value="2400">2400 kcal</option>
        <option value="2500">2500 kcal</option>
        <option value="2500+">2500 kcal ì´ìƒ</option>
      </select>
    </div>

    <div class="form-group">
      <label class="label-disease">ì§€ë³‘:</label>
      <label>ë‹¹ë‡¨<input type="checkbox" name="conditions[]" value="ë‹¹ë‡¨" class="checkbox-disease"/></label>
      <label>ë¹„ë§Œ<input type="checkbox" name="conditions[]" value="ë¹„ë§Œ" class="checkbox-disease"/></label>
      <label>ê³ í˜ˆì••<input type="checkbox" name="conditions[]" value="ê³ í˜ˆì••" class="checkbox-disease"/></label>  
    </div>

    <button type="submit" class="submit-button">ì œì¶œ</button>
  </form>

  <script>
    const previewImg = document.getElementById('preview');
    const galleryInput = document.getElementById('photo-gallery');

    galleryInput.addEventListener('change', function() {
      const file = this.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          previewImg.src = e.target.result;
          previewImg.style.display = 'block';
        };
        reader.readAsDataURL(file);
      } else {
        previewImg.src = '';
        previewImg.style.display = 'none';
      }
    });
  </script>

</body>
</html>
